CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
PROJECT(MOO)

SET(CMAKE_MODULE_PATH ${CMAKE_SOURCE_DIR}/cmake/modules)
FIND_PACKAGE(MooCmake)

SET(MOO_VERSION 0.9.5)
SET(MOO_PACKAGE_NAME moo)
SET(MOO_EMAIL "muntyan@muntyan.net")
SET(MOO_COPYRIGHT "2004-2009 Yevgen Muntyan <${MOO_EMAIL}>")
SET(PACKAGE_BUGREPORT ${MOO_EMAIL})
SET(MOO_PACKAGE_VENDOR ${MOO_EMAIL})

INCLUDE(cmake/compilers.cmake)
INCLUDE(cmake/moo.cmake)
INCLUDE(cmake/dist.cmake)
INCLUDE(cmake/gtk.cmake)

MOO_DEFINE_VERSIONS(MOO ${MOO_VERSION})
SET(MOO_MODULE_MAJOR_VERSION 1)
SET(MOO_MODULE_MINOR_VERSION 0)
SET(MOO_MODULE_VERSION \"${MOO_MODULE_MAJOR_VERSION}.${MOO_MODULE_MINOR_VERSION}\")

ADD_DEFINITIONS(-DHAVE_CONFIG_H)
ADD_DEFINITIONS(-DGETTEXT_PACKAGE=\"moo\")
ADD_DEFINITIONS(-DG_LOG_DOMAIN=\"Moo\")
INCLUDE_DIRECTORIES(${MOO_BINARY_DIR} ${MOO_BINARY_DIR}/moo ${MOO_SOURCE_DIR}/moo)
ADD_DEFINITIONS(${GTK_CFLAGS} ${GTK_CFLAGS_OTHER})

INCLUDE(config.cmake)

ADD_SUBDIRECTORY(doc)
ADD_SUBDIRECTORY(moo)
ADD_SUBDIRECTORY(plugins)
ADD_SUBDIRECTORY(medit)

MOO_ADD_MSG_CATALOG(moo po)
MOO_ADD_MSG_CATALOG(moo-gsv po-gsv)

MOO_CONFIGURE_FILE(config.h.in config.h @ONLY)
CONFIGURE_FILE(config-dirs.h.in config-dirs.h @ONLY)
