# -%- strip: false; indent-width: 2 -%-
[tool]
id=Math
file-filter=*.tex
type=lua
version=2
name=Math
options=need-doc
accel=<alt>M
  if doc.has_selection() then
    doc.replace_selected_text('$' .. doc.selected_text() .. '$')
  else
    pos = doc.cursor_pos()
    doc.insert_text('$ $')
    doc.set_selection(pos + 1, pos + 2)
  end
  

[tool]
id=InsertDateAndTime
type=python
name=Insert Date and Time
options=need-doc
  # insert_date_and_time.py is installed in
  # $prefix/lib/moo/plugins/lib
  from insert_date_and_time import get_format
  import time
  
  fmt = get_format(window)
  if fmt is not None:
      buffer.insert_at_cursor(time.strftime(fmt))
  
