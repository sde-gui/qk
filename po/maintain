#!/bin/sh

for f in pot dist; do if test ! -e $f; then ln -s maintain $f; fi; done

dist () {
  if [ -n "$1" ]; then
    exec intltool-update --gettext-package=moo -d "$@"
  fi

  for f in *.po; do
    echo "intltool-update --gettext-package=moo -d `basename $f .po`"
    intltool-update --gettext-package=moo -d `basename $f .po` || exit 1
  done

  exit 0
}

case `basename $0` in
  pot)
    args="--gettext-package=moo -p"
    ;;
  dist)
    dist "$@"
    ;;
  *)
    args="--gettext-package=moo -m"
    ;;
esac

exec intltool-update $args "$@"
